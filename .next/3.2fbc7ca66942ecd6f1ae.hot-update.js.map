{"version":3,"sources":["webpack:///./components/Form.js?d2c6","webpack:///./node_modules/next-routes/dist/index.js?4725","webpack:///./routes.js?817c"],"names":["FormLovers","state","yourName","partnersName","why","isLoading","payment","error","errorMessage","onSubmit","event","preventDefault","setState","web3","eth","getAccounts","accounts","lover","methods","createLover","send","from","value","newCampaign","Router","pushRoute","message","target","routes","require","add","module","exports"],"mappings":"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;AACA,2BAA2B,iDAAiD;AAC5E,WAAW;AACX;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA,8DAA8D;AAC9D;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA,uDAAuD;AACvD,OAAO,IAAI;AACX;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,OAAO;;AAEP;;AAEA;AACA,mDAAmD;AACnD,OAAO,IAAI;;AAEX;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,cAAc;AACd;AACA,GAAG;;AAEH;AACA,CAAC;;AAED;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH,E;;;;;;;;;;;;;AC9RA,IAAM4B,SAAS,mBAAAC,CAAQ,0CAAR,GAAf;;AAEAD,OACKE,GADL,CACS,aADT,EACwB,eADxB,EAEKA,GAFL,CAES,kBAFT,EAE4B,iBAF5B;;AAIAC,OAAOC,OAAP,GAAiBJ,MAAjB;;;;;;;;;;;;4BANMA,M","file":"3.2fbc7ca66942ecd6f1ae.hot-update.js","sourcesContent":["import React, { Component } from 'react';\nimport { Button, Form, Input, Select, TextArea, Message } from 'semantic-ui-react';\nimport lover from '../ethereum/lover';\nimport web3 from '../ethereum/web3';\nimport { Router, Link } from '../routes';\n\n\nclass FormLovers extends Component {\n  state = {\n      yourName: '',\n      partnersName: '',\n      why: '',\n      isLoading: false,\n      payment: 9000000000000000,\n      error: false,\n      errorMessage: ''\n  }\n\n  onSubmit = async (event) => {\n        event.preventDefault();\n        try{\n        this.setState({error: false});\n        this.setState({isLoading: true});\n        const accounts = await web3.eth.getAccounts();\n        const newCampaign = await lover.methods\n            .createLover(this.state.yourName, this.state.partnersName, this.state.why)\n            .send({\n                from: accounts[0],\n                value: this.state.payment\n            });\n        Router.pushRoute(`/lovers/${accounts[0]}`);\n        \n        //this.setState({isLoading: false});\n\n        } catch (error){\n            this.setState({\n                error: true,\n                isLoading: false,\n                errorMessage: error.message\n            });\n        }\n\n  }\n\n  render() {\n    const { value } = this.state\n    return (\n        <div>\n      <Form onSubmit={this.onSubmit}>\n        <Form.Group widths='equal'>\n          <Form.Field control={Input}\n            value={this.state.yourName}\n            label='Your name' \n            onChange = {event => this.setState({ yourName: event.target.value })}\n            placeholder='Your name' />\n\n          <Form.Field control={Input}\n            value={this.state.partnersName}\n            label='Partners name' \n            onChange = {event => this.setState({ partnersName: event.target.value })}\n            placeholder='Partners name' />\n          \n        </Form.Group>\n        \n        <Form.Field control={TextArea}\n            value={this.state.why}\n            transparent={true}\n            label='Why do you love your partner?'\n            onChange = {event => this.setState({ why: event.target.value })}\n            placeholder='Proclaim your love!' />\n        \n        <Form.Field control={Button} loading={this.state.isLoading}>Submit</Form.Field>\n      </Form>\n      <Message hidden={!this.state.isLoading}>\n                <Message.Content>\n                <Message.Header>Just one second</Message.Header>\n                Foreverizing your love. Please accept the transaction in the MetaMask plugin.\n                </Message.Content>\n        </Message>\n        <Message hidden={!this.state.error} negative={this.state.error}>\n                <Message.Content>\n                <Message.Header>Oops!</Message.Header>\n                    Something went wrong here. Transaction was rejected. Do you have sufficient funds in your Meta Mask account?\n                </Message.Content>\n        </Message>\n      </div>\n    )\n  }\n}\n\nexport default FormLovers\n\n\n// WEBPACK FOOTER //\n// ./components/Form.js","'use strict';\n\nvar _jsxFileName = 'src/index.js';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _pathToRegexp = require('path-to-regexp');\n\nvar _pathToRegexp2 = _interopRequireDefault(_pathToRegexp);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _url = require('url');\n\nvar _link = require('next/link');\n\nvar _link2 = _interopRequireDefault(_link);\n\nvar _router = require('next/router');\n\nvar _router2 = _interopRequireDefault(_router);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nmodule.exports = function (opts) {\n  return new Routes(opts);\n};\n\nvar Routes = function () {\n  function Routes() {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref$Link = _ref.Link,\n        Link = _ref$Link === undefined ? _link2.default : _ref$Link,\n        _ref$Router = _ref.Router,\n        Router = _ref$Router === undefined ? _router2.default : _ref$Router;\n\n    _classCallCheck(this, Routes);\n\n    this.routes = [];\n    this.Link = this.getLink(Link);\n    this.Router = this.getRouter(Router);\n  }\n\n  _createClass(Routes, [{\n    key: 'add',\n    value: function add(name, pattern, page) {\n      var options = void 0;\n      if (name instanceof Object) {\n        options = name;\n        name = options.name;\n      } else {\n        if (name[0] === '/') {\n          page = pattern;\n          pattern = name;\n          name = null;\n        }\n        options = { name: name, pattern: pattern, page: page };\n      }\n\n      if (this.findByName(name)) {\n        throw new Error('Route \"' + name + '\" already exists');\n      }\n\n      this.routes.push(new Route(options));\n      return this;\n    }\n  }, {\n    key: 'findByName',\n    value: function findByName(name) {\n      if (name) {\n        return this.routes.filter(function (route) {\n          return route.name === name;\n        })[0];\n      }\n    }\n  }, {\n    key: 'match',\n    value: function match(url) {\n      var parsedUrl = (0, _url.parse)(url, true);\n      var pathname = parsedUrl.pathname,\n          query = parsedUrl.query;\n\n\n      return this.routes.reduce(function (result, route) {\n        if (result.route) return result;\n        var params = route.match(pathname);\n        if (!params) return result;\n        return _extends({}, result, { route: route, params: params, query: _extends({}, query, params) });\n      }, { query: query, parsedUrl: parsedUrl });\n    }\n  }, {\n    key: 'findAndGetUrls',\n    value: function findAndGetUrls(nameOrUrl, params) {\n      var route = this.findByName(nameOrUrl);\n\n      if (route) {\n        return { route: route, urls: route.getUrls(params), byName: true };\n      } else {\n        var _match = this.match(nameOrUrl),\n            _route = _match.route,\n            query = _match.query;\n\n        var href = _route ? _route.getHref(query) : nameOrUrl;\n        var urls = { href: href, as: nameOrUrl };\n        return { route: _route, urls: urls };\n      }\n    }\n  }, {\n    key: 'getRequestHandler',\n    value: function getRequestHandler(app, customHandler) {\n      var _this = this;\n\n      var nextHandler = app.getRequestHandler();\n\n      return function (req, res) {\n        var _match2 = _this.match(req.url),\n            route = _match2.route,\n            query = _match2.query,\n            parsedUrl = _match2.parsedUrl;\n\n        if (route) {\n          if (customHandler) {\n            customHandler({ req: req, res: res, route: route, query: query });\n          } else {\n            app.render(req, res, route.page, query);\n          }\n        } else {\n          nextHandler(req, res, parsedUrl);\n        }\n      };\n    }\n  }, {\n    key: 'getLink',\n    value: function getLink(Link) {\n      var _this2 = this;\n\n      var LinkRoutes = function LinkRoutes(props) {\n        var route = props.route,\n            params = props.params,\n            to = props.to,\n            newProps = _objectWithoutProperties(props, ['route', 'params', 'to']);\n\n        var nameOrUrl = route || to;\n\n        if (nameOrUrl) {\n          Object.assign(newProps, _this2.findAndGetUrls(nameOrUrl, params).urls);\n        }\n\n        return _react2.default.createElement(Link, _extends({}, newProps, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 99\n          }\n        }));\n      };\n      return LinkRoutes;\n    }\n  }, {\n    key: 'getRouter',\n    value: function getRouter(Router) {\n      var _this3 = this;\n\n      var wrap = function wrap(method) {\n        return function (route, params, options) {\n          var _findAndGetUrls = _this3.findAndGetUrls(route, params),\n              byName = _findAndGetUrls.byName,\n              _findAndGetUrls$urls = _findAndGetUrls.urls,\n              as = _findAndGetUrls$urls.as,\n              href = _findAndGetUrls$urls.href;\n\n          return Router[method](href, as, byName ? options : params);\n        };\n      };\n\n      Router.pushRoute = wrap('push');\n      Router.replaceRoute = wrap('replace');\n      Router.prefetchRoute = wrap('prefetch');\n      return Router;\n    }\n  }]);\n\n  return Routes;\n}();\n\nvar Route = function () {\n  function Route(_ref2) {\n    var name = _ref2.name,\n        pattern = _ref2.pattern,\n        _ref2$page = _ref2.page,\n        page = _ref2$page === undefined ? name : _ref2$page;\n\n    _classCallCheck(this, Route);\n\n    if (!name && !page) {\n      throw new Error('Missing page to render for route \"' + pattern + '\"');\n    }\n\n    this.name = name;\n    this.pattern = pattern || '/' + name;\n    this.page = page.replace(/(^|\\/)index$/, '').replace(/^\\/?/, '/');\n    this.regex = (0, _pathToRegexp2.default)(this.pattern, this.keys = []);\n    this.keyNames = this.keys.map(function (key) {\n      return key.name;\n    });\n    this.toPath = _pathToRegexp2.default.compile(this.pattern);\n  }\n\n  _createClass(Route, [{\n    key: 'match',\n    value: function match(path) {\n      var values = this.regex.exec(path);\n      if (values) {\n        return this.valuesToParams(values.slice(1));\n      }\n    }\n  }, {\n    key: 'valuesToParams',\n    value: function valuesToParams(values) {\n      var _this4 = this;\n\n      return values.reduce(function (params, val, i) {\n        if (val === undefined) return params;\n        return Object.assign(params, _defineProperty({}, _this4.keys[i].name, decodeURIComponent(val)));\n      }, {});\n    }\n  }, {\n    key: 'getHref',\n    value: function getHref() {\n      var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      return this.page + '?' + toQuerystring(params);\n    }\n  }, {\n    key: 'getAs',\n    value: function getAs() {\n      var _this5 = this;\n\n      var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      var as = this.toPath(params) || '/';\n      var keys = Object.keys(params);\n      var qsKeys = keys.filter(function (key) {\n        return _this5.keyNames.indexOf(key) === -1;\n      });\n\n      if (!qsKeys.length) return as;\n\n      var qsParams = qsKeys.reduce(function (qs, key) {\n        return Object.assign(qs, _defineProperty({}, key, params[key]));\n      }, {});\n\n      return as + '?' + toQuerystring(qsParams);\n    }\n  }, {\n    key: 'getUrls',\n    value: function getUrls(params) {\n      var as = this.getAs(params);\n      var href = this.getHref(params);\n      return { as: as, href: href };\n    }\n  }]);\n\n  return Route;\n}();\n\nvar toQuerystring = function toQuerystring(obj) {\n  return Object.keys(obj).filter(function (key) {\n    return obj[key] !== null && obj[key] !== undefined;\n  }).map(function (key) {\n    var value = obj[key];\n\n    if (Array.isArray(value)) {\n      value = value.join('/');\n    }\n    return [encodeURIComponent(key), encodeURIComponent(value)].join('=');\n  }).join('&');\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/next-routes/dist/index.js\n// module id = ./node_modules/next-routes/dist/index.js\n// module chunks = 3","const routes = require('next-routes')();\n\nroutes\n    .add('/lovers/all', '/campaign/all')\n    .add('/lovers/:address','/lovers/forever');\n\nmodule.exports = routes;\n\n\n\n// WEBPACK FOOTER //\n// ./routes.js"],"sourceRoot":""}